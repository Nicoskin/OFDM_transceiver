import numpy as np
import matplotlib.pyplot as plt

# Provided OFDM data
ofdm_data = [
(7.62833,5.30875),
(81.0846,12.778),
(89.2204,35.6167),
(63.8128,36.7385),
(40.7632,16.3211),
(-2.00051,2.9418),
(-70.6734,13.4214),
(-97.3954,31.0479),
(-30.5661,28.3723),
(51.7951,-8.1741),
(45.9003,-52.7111),
(-18.4768,-65.779),
(-25.7796,-35.5948),
(41.4922,3.43554),
(78.431,4.92332),
(37.2666,-29.5534),
(0.917838,-49.8043),
(37.0801,-28.7384),
(88.0308,2.38627),
(56.2338,5.31073),
(-26.94,-21.399),
(-46.843,-53.8636),
(11.4448,-74.2981),
(47.7659,-58.4043),
(3.97369,-3.64229),
(-57.8414,52.1132),
(-62.3629,56.2654),
(-16.8316,19.9039),
(33.612,6.72152),
(75.8354,33.2942),
(93.4764,48.6631),
(63.4629,19.5967),
(-9.43597,-9.87598),
(-61.0054,9.14907),
(-38.6483,52.2238),
(26.1264,58.9572),
(46.7122,17.1502),
(-5.23439,-15.0345),
(-66.0078,1.38508),
(-64.0783,26.6069),
(-15.9496,10.1513),
(15.3722,-35.483),
(12.7898,-64.9134),
(8.4206,-68.958),
(16.6109,-63.6828),
(20.6312,-46.7355),
(10.201,-10.7542),
(-17.792,17.2344),
(-57.4698,2.58452),
(-77.7942,-38.8969),
(-51.9758,-53.0265),
(-2.0947,-12.9712),
(16.6958,43.3557),
(-0.796346,48.8407),
(-6.89203,-1.96007),
(20.8292,-49.4979),
(43.1549,-56.1096),
(27.1362,-41.0685),
(-0.64099,-21.1037),
(-2.61136,8.53973),
(10.5125,29.3034),
(6.06468,8.16375),
(-16.9664,-35.5402),
(-26.0327,-27.358),
(-5.49947,41.3913),
(30.5136,87.8408),
(42.9076,55.9067),
(17.1015,0.639004),
(-29.8754,-17.3832),
(-58.5612,-11.4061),
(-48.8201,-22.4375),
(-14.1384,-39.3435),
(12.3233,-30.7409),
(9.6358,-8.51921),
(-12.3228,-4.15243),
(-31.4758,-10.2483),
(-37.6993,5.61486),
(-42.2395,22.861),
(-46.0165,4.7278),
(-27.727,-30.2198),
(16.5015,-26.1033),
(49.8383,24.338),
(46.119,65.1888),
(22.6264,55.6992),
(3.47902,30.1651),
(-14.5222,27.4507),
(-26.6863,35.4613),
(-17.3675,19.4372),
(2.17468,-5.41736),
(2.04196,9.87045),
(-12.6167,56.0184),
(-8.83931,71.2886),
(6.49191,37.6689),
(-2.70035,7.44174),
(-25.1476,15.3597),
(-10.1672,23.7376),
(48.4117,-0.340894),
(96.338,-28.1155),
(77.6826,-5.91371),
(4.18847,51.3597),
(-63.6603,71.2305),
(-78.0226,25.0289),
(-43.7021,-31.4649),
(0.0542934,-43.9585),
(14.5985,-27.4083),
(2.10759,-19.6364),
(-13.7423,-12.3849),
(-8.9185,8.71937),
(17.4093,8.28815),
(35.4872,-38.5661),
(23.3894,-81.2747),
(2.28609,-72.515),
(15.525,-42.8981),
(59.9256,-37.8268),
(79.6329,-40.5276),
(43.1319,-25.6513),
(-7.58447,-4.73722),
(-15.4067,15.4735),
(6.73175,48.5646),
(10.5654,75.3852),
(-3.85457,42.8033),
(-0.370879,-32.8983),
(14.7515,-64.4524),
(5.14919,-22.7989),
(-13.6389,16.4396),
(13.3083,-9.91287),
(66.8644,-52.0762),
(69.7116,-33.2688),
(11.5073,17.8039),
(-26.3775,17.0468),
(-0.210487,-28.4416),
(33.3114,-26.6584),
(10.8502,38.9672),
(-36.3779,74.7741),
(-37.8099,24.3347),
(12.7945,-38.3123),
(49.2804,-33.2222),
(39.2893,9.56714),
(14.2026,11.7258),
(2.92348,-26.3153),
(-8.08614,-36.6827),
(-29.8265,7.6031),
(-28.2728,52.0233),
(4.64248,39.3344),
(24.2136,-16.0237),
(14.4623,-40.5498),
(11.3938,8.89197),
(35.025,92.1434),
(39.5838,129.011),
(2.60168,80.6879),
(-14.4767,-4.03382),
(23.1583,-41.0798),
(40.8708,-0.0290852),
(-32.5398,43.1779),
(-129.391,19.6426),
(-131.217,-40.4957),
(-60.0841,-43.4018),
(-34.484,29.8382),
(-68.5737,98.529),
(-69.0984,90.631),
(-2.94722,26.6506),
(37.9611,-26.5076),
(3.71705,-18.326),
(-39.4794,30.5396),
(-18.2718,81.0156),
(33.4513,94.3539),
(44.9725,56.6523),
(20.4747,-1.23974),
(19.66,-27.7094),
(41.2259,-9.21272),
(30.0163,2.43814),
(-9.70491,-32.7993),
(-10.8086,-92.6232),
(34.8288,-107.912),
(52.296,-53.7687),
(5.97335,10.7577),
(-48.3864,17.6525),
(-61.7909,-21.7801),
(-51.0682,-38.7697),
(-40.9084,-10.9439),
(-27.7426,17.8255),
(-14.0505,30.1318),
(-7.05702,30.6846),
(-3.04831,17.2902),
(13.0781,-10.8185),
(36.8036,-24.1423),
(43.8209,-12.46),
(20.3468,-7.23845),
(-26.3425,-17.1429),
(-71.5969,-24.0642),
(-84.6022,-16.6095),
(-45.8661,-4.13597),
(22.9456,15.9478),
(56.6207,42.6778),
(25.8306,42.1669),
(-22.1688,3.25432),
(-27.8122,-16.1365),
(-1.39538,19.2506),
(13.415,62.1418),
(8.03713,54.438),
(-7.73541,11.1866),
(-39.9113,-14.8017),
(-73.2303,-5.77738),
(-60.0156,16.2847),
(-3.79755,20.0958),
(24.8123,-4.57999),
(-12.9985,-50.9373),
(-62.0085,-97.7548),
(-51.8136,-104.169),
(7.99647,-58.3649),
(51.8829,-1.7981),
(45.5066,10.9389),
(17.2571,-16.0901),
(15.803,-35.9607),
(40.3556,-34.1025),
(42.2288,-37.1263),
(2.15271,-46.4186),
(-40.3119,-33.8456),
(-39.9388,4.94708),
(-5.01829,29.6522),
(34.2323,6.51623),
(57.8953,-32.6895),
(43.9993,-36.0788),
(0.334455,-5.85081),
(-23.2341,6.64865),
(0.878651,-26.2878),
(30.4015,-71.0607),
(10.5238,-81.7192),
(-31.1742,-47.5521),
(-30.2993,4.86527),
(5.16016,34.2809),
(10.7766,17.634),
(-25.5033,-10.0851),
(-44.8497,5.31931),
(-5.04727,43.6624),
(48.2552,42.5307),
(43.1599,17.9306),
(-9.7522,42.6516),
(-41.7019,95.7104),
(-19.1609,81.6845),
(17.372,-9.70766),
(34.696,-69.9233),
(32.2939,-35.2065),
(14.1381,23.6811),
(-15.6965,13.9785),
(-43.3634,-46.5455),
(-42.204,-68.8187),
(-6.99974,-16.043),
(41.8337,42.6592),
(69.0509,28.8486),
(50.197,-27.802),
(0.177643,-35.5046),
(-35.1233,-1.02448),
(-18.6337,-23.0959),
(34.6394,-113.027),
(61.8082,-154.181),
(20.6697,-79.0447),
(-51.5215,16.3123),
(-77.1941,23.9031),
(-37.3271,-20.0757),
(11.1779,-12.7507),
(23.2904,43.7813),
(11.9877,61.5512),
(-2.01166,18.4535),
(-14.9556,-0.835411),
(-14.2777,40.9692),
(14.5888,69.6865),
(44.5329,26.6362),
(36.0259,-24.883),
(2.59647,-10.3643),
(-7.94042,30.4252),
(19.2648,16.6064),
(42.8738,-26.0807),
(26.6266,-20.2831),
(-14.4819,33.0824),
(-29.9261,56.5782),
(-1.72264,16.3436),
(34.7805,-30.6416),
(41.4388,-30.5992),
(35.0935,-8.14116),
(45.7349,-6.67741),
(64.3038,-6.14259),
(70.8835,24.9106),
(56.1586,61.3279),
(30.3704,62.2941),
(2.82997,52.1123),
(-11.7369,60.7183),
(-3.75974,56.7826),
(2.26555,12.9302),
(-20.6022,-22.3017),
(-51.0791,-2.27818),
(-32.0329,51.0129),
(31.2936,64.5398),
(51.827,20.262),
(-7.94663,-25.5404),
(-67.4322,-16.4286),
(-39.1934,35.3872),
(38.6115,73.0943),
(56.8461,61.5285),
(-6.93627,7.78429),
(-59.3732,-53.6255),
(-32.2374,-89.1361),
(21.4259,-79.5572),
(19.6306,-40.9313),
(-39.3259,-18.3229),
(-92.036,-26.695),
(-77.0425,-39.29),
(-26.3946,-19.4502),
(13.2784,30.3713),
(21.9223,41.7074),
(-3.12576,-19.7065),
(-40.275,-82.8213),
(-36.8747,-58.4636),
(16.6043,20.3085),
(58.2022,47.8383),
(38.5192,8.23469),
(-5.59674,-32.1502),
(-21.3296,-35.9012),
(-11.0545,-25.7225),
(0.732459,-14.7553),
(16.4395,8.94559),
(33.6626,30.3472),
(23.0359,12.0245),
(-31.1791,-40.3537),
(-85.4591,-51.1986),
(-90.8356,31.2815),
(-59.1202,130.6),
(-46.6739,117.113),
(-54.326,-6.34805),
(-27.4982,-92.4907),
(37.2593,-60.6795),
(58.846,7.61858),
(2.87327,28.4683),
(-53.3174,29.1702),
(-34.7451,48.913),
(26.063,56.6349),
(65.117,28.3329),
(76.4725,8.68941),
(69.613,23.8813),
(33.2732,34.3141),
(-22.1385,1.86326),
(-51.3992,-39.7412),
(-39.0213,-35.6529),
(-13.2899,0.41955),
(-3.70619,2.57716),
(-9.84519,-37.6448),
(-27.2311,-54.4473),
(-36.9279,-18.1868),
(-38.3544,22.6525),
(-54.6101,14.2808),
(-77.2887,-19.8287),
(-68.0254,-24.6218),
(-17.7576,-5.09023),
(26.9911,2.21577),
(37.2825,-6.76197),
(40.4087,-5.50347),
(55.2545,-2.08477),
(54.4351,-25.4114),
(16.3512,-59.4929),
(-32.7196,-58.2083),
(-45.1234,-17.8315),
(-2.73144,5.6478),
(62.3369,-8.56324),
(95.9331,-18.2539),
(75.3381,-1.47947),
(30.1198,14.7722),
(7.50165,26.2646),
(18.7958,49.8873),
(49.0976,55.2485),
(71.8348,-3.79957),
(70.4039,-70.0606),
(39.4226,-52.8327),
(-9.70493,16.2858),
(-48.469,24.805),
(-42.0654,-35.5061),
(14.8516,-84.4363),
(68.7195,-85.1114),
(65.4972,-64.8113),
(11.4467,-25.338),
(-34.8686,30.8687),
(-22.5285,49.6665),
(33.7751,-7.6975),
(70.621,-73.5043),
(45.5062,-48.0673),
(-11.98,53.081),
(-32.4222,108.04),
(-0.663357,48.1442),
(15.0822,-47.6444),
(-30.273,-60.8314),
(-92.8425,17.9309),
(-102.695,86.8573),
(-52.2498,82.411),
(12.8118,36.9944),
(51.4196,8.76231),
(49.9103,1.24409),
(10.552,-4.28991),
(-42.2057,-8.58733),
(-63.1725,-4.35754),
(-24.4957,-2.37582),
(36.4602,-10.0027),
(49.8809,-18.1245),
(0.824657,-19.0742),
(-48.1937,-18.3671),
(-50.0443,-24.1682),
(-21.4484,-24.7421),
(2.06216,-0.0853229),
(12.0671,40.7308),
(7.26164,71.7044),
(-9.04888,77.4945),
(-13.5255,58.0088),
(3.10264,27.2794),
(14.3851,9.88852),
(-8.8407,16.4606),
(-38.8237,32.9925),
(-29.7862,43.1386),
(3.8051,42.3689),
(10.2847,10.6845),
(-23.4403,-57.66),
(-53.1422,-107.175),
(-41.827,-75.8336),
(-2.47446,9.46855),
(29.1261,51.6827),
(27.2319,22.7659),
(6.5908,-21.1165),
(-4.9378,-30.2961),
(-0.952472,-16.7669),
(9.70869,-4.30458),
(23.6671,6.06608),
(35.0636,30.7405),
(29.48,60.3483),
(6.81077,68.0131),
(-4.58438,48.1761),
(28.0788,28.1083),
(87.8943,24.8919),
(95.3685,30.868),
(38.6021,42.3279),
(-17.2756,54.5048),
(-18.4817,56.5042),
(7.17976,35.8297),
(6.17764,-2.85555),
(-21.9167,-37.7154),
(-38.4976,-51.6402),
(-37.05,-52.2041),
(-41.5216,-68.7232),
(-48.1776,-101.346),
(-24.2858,-106.268),
(25.2486,-53.7189),
(46.6073,14.1788),
(10.1724,21.4804),
(-38.1363,-41.7314),
(-36.9956,-89.1353),
(-15.4379,-55.1988),
(-27.821,6.54389),
(-59.6005,17.9659),
(-60.4638,-13.1719),
(-19.2612,-13.1572),
(35.1504,32.6719),
(71.866,57.4357),
(61.4466,23.105),
(-1.82698,-24.64),
(-70.0976,-31.5224),
(-84.8083,-3.79804),
(-54.6802,31.2879),
(-29.2025,63.253),
(-19.9716,74.7915),
(1.38608,49.9127),
(42.2748,22.5462),
(57.573,38.7238),
(24.4503,78.0458),
(-7.16326,69.0437),
(18.1738,-14.7467),
(63.3486,-107.642),
(47.8559,-121.219),
(-20.1834,-41.8474),
(-42.6499,55.0055),
(-1.25829,95.9865),
(10.3325,78.3134),
(-46.1155,37.7471),
(-87.8069,-4.15424),
(-48.6164,-29.3333),
(6.12222,-18.5175),
(-6.43209,16.8841),
(-56.364,23.7253),
(-54.3349,-13.4083),
(9.98979,-42.4322),
(56.7869,-20.0904),
(46.9976,12.4207),
(38.0625,3.30121),
(64.3592,-38.5543),
(67.2099,-55.6901),
(0.53814,-20.1368),
(-65.8581,30.8773),
(-48.6405,45.5734),
(14.4006,20.2868),
(39.1716,-14.342),
(28.057,-31.8389),
(32.3103,-13.3013),
(47.6694,38.8667),
(25.9238,70.3094),
(-22.964,38.8112),
(-34.1764,-12.1687),
(12.7414,-24.3605),
(58.2044,-25.5914),
(48.442,-72.9003),
(12.0737,-134.419),
(-5.25219,-124.969),
(-8.02509,-32.2213),
(-19.7407,75.673),
(-33.5972,128.864),
(-33.6538,100.372),
(-33.5457,16.7884),
(-41.1226,-41.0184),
(-39.9567,-24.1038),
(-32.5043,2.16566),
(-44.7349,-43.3432),
(-51.0043,-117.656),
(-10.962,-103.484),
(33.6079,4.30979),
(12.3087,77.7951),
(-49.1655,40.7041),
(-58.0379,-25.1593),
(-1.77267,-11.1819),
(43.1854,58.3214),
(53.001,68.5968),
(71.7906,-3.42886),
(106.525,-46.085),
(93.5247,15.3906),
(14.8732,91.8683),
(-48.1443,54.0022),
(-29.244,-57.1056),
(14.7526,-94.941),
(-9.41534,-24.2117),
(-85.4846,41.7156),
(-107.827,24.493),
(-45.7919,-19.7601),
(20.315,-32.7417),
(27.1543,-36.84),
(1.62824,-52.7889),
(-17.6403,-39.0545),
(-34.4903,11.704),
(-38.6452,34.1061),
(-0.630723,-8.81797),
(50.792,-48.305),
(37.7645,-26.3637),
(-45.548,13.4762),
(-91.1817,7.66776),
(-33.1699,-32.1611),
(49.3255,-44.6913),
(47.1004,-11.2317),
(-20.6868,35.201),
(-49.2035,52.3306),
(-21.8972,33.1784),
(-9.46978,8.4451),
(-32.3821,-0.938253),
(-32.0815,-7.43281),
(15.9609,-20.8164),
(62.1128,-26.1505),
(56.7075,-0.60004),
(18.959,37.4255),
(-4.12162,49.8587),
(-3.86818,18.7137),
(-6.63114,-30.3136),
(-23.9406,-48.7745),
(-29.5105,-22.9499),
(-16.4109,11.7239),
(-7.16794,14.1813),
(-8.52984,-14.8831),
(4.15809,-40.8546),
(35.5311,-32.4582),
(58.9647,2.92404),
(66.1864,19.434),
(61.9251,-6.03509),
(29.038,-39.5235),
(-37.982,-28.3219),
(-75.4147,3.21511),
(-21.8911,-5.45038),
(78.3567,-41.2213),
(113.953,-31.0816),
(45.7831,26.3952),
(-27.3275,50.6832),
(-21.8382,26.2228),
(18.0481,6.17724),
(9.75994,12.5834),
(-24.3272,1.67746),
(-13.003,-38.1983),
(29.6329,-52.09),
(27.7494,-14.625),
(-23.6922,18.5608),
(-42.407,-7.58889),
(8.76681,-48.2274),
(69.8543,-20.8343),
(74.4812,65.2518),
(30.1275,122.715),
(-16.9105,104.11),
(-41.8939,56.2952),
(-46.197,38.7992),
(-20.6746,47.6866),
(29.2636,44.1045),
(62.6946,20.4238),
(47.7237,5.02104),
(12.6916,20.994),
(-6.86458,37.6632),
(-19.3728,25.9031),
(-35.7098,6.32081),
(-23.468,-2.80266),
(19.3863,-19.041),
(28.676,-50.5336),
(-20.7274,-59.2682),
(-65.3045,-7.34024),
(-64.0297,59.0256),
(-59.5059,72.939),
(-77.6879,32.2048),
(-59.3338,-5.46715),
(25.3893,-14.6687),
(99.5362,-16.9794),
(77.3682,-28.6642),
(0.643923,-18.3795),
(-25.3603,27.2521),
(13.7127,51.3532),
(41.0324,4.54078),
(25.578,-62.1644),
(22.2563,-62.8413),
(54.0246,-8.34699),
(62.7413,8.86479),
(9.27963,-39.4378),
(-48.5038,-76.1468),
(-35.5477,-36.9893),
(42.3174,32.1806),
(101.822,47.6934),
(93.4535,11.3554),
(43.7937,-18.6766),
(2.07479,-26.7082),
(-26.1185,-47.0617),
(-45.4161,-74.2806),
(-36.9744,-57.5696),
(4.63137,-0.643649),
(34.8403,30.1385),
(13.6956,7.89515),
(-30.9917,-15.9348),
(-49.112,-1.95523),
(-41.1333,20.3674),
(-28.5868,21.136),
(-6.56368,6.66161),
(2.2282,-2.86882),
(-43.475,-8.25517),
(-107.963,-13.1435),
(-106.24,-15.2887),
(-42.3952,-17.8347),
(-3.78171,-25.7075),
(-15.1073,-25.1539),
(-12.3295,5.48784),
(26.702,62.7173),
(48.5187,98.2009),
(23.058,68.2346),
(-16.4591,4.47452),
(-36.6913,-15.075),
(-38.007,26.8073),
(-19.115,60.55),
(19.2396,43.5461),
(51.2616,16.0959),
(34.8185,21.4963),
(-23.6538,34.0687),
(-58.0078,-1.00918),
(-21.0271,-71.7844),
(36.8189,-117.036),
(34.0346,-85.0536),
(-29.717,4.24964),
(-70.6697,85.3769),
(-45.7356,113.342),
(-5.43865,92.8584),
(-8.59632,48.8332),
(-42.088,4.32102),
(-47.7883,-14.8963),
(-0.212484,1.07025),
(54.9204,32.4241),
(52.8148,51.1808),
(-10.2273,47.1121),
(-74.6163,28.1548),
(-83.3693,9.12206),
(-30.3481,9.49075),
(33.9689,23.9046),
(44.3558,18.2098),
(-5.65555,-17.9938),
(-39.3888,-46.0484),
(-0.435676,-30.6452),
(69.1256,-3.98403),
(85.5412,-9.18379),
(40.9048,-37.7459),
(4.1074,-46.3257),
(14.0942,-25.3738),
(34.5412,-12.2804),
(15.2682,-35.2742),
(-22.861,-71.1754),
(-23.0196,-65.0294),
(17.2074,2.958),
(34.0332,86.3521),
(-0.787353,112.792),
(-32.3978,64.4747),
(-14.7837,-15.1563),
(23.2413,-73.0725),
(36.8621,-91.7276),
(27.5483,-82.4301),
(1.00828,-48.8443),
(-57.2389,-9.91454),
(-116.306,-6.56885),
(-93.7316,-44.9416),
(15.2646,-65.1554),
(101.059,-29.9879),
(74.5521,3.90668),
(-10.122,-13.348),
(-39.4571,-32.4324),
(0.206862,2.75594),
(25.8304,44.0518),
(-0.431173,25.8255),
(-19.3013,-13.7319),
(21.0555,-11.8584),
(71.2754,16.2589),
(68.5249,19.668),
(34.0054,1.49654),
(18.5735,3.26836),
(16.5893,26.3458),
(-0.543036,33.6053),
(-26.3203,2.63318),
(-21.3995,-37.8682),
(10.2,-36.7532),
(23.2164,16.3247),
(-11.5156,65.9341),
(-65.9927,54.6832),
(-91.0482,-14.4288),
(-66.3183,-66.6547),
(-22.8298,-45.6915),
(-9.03441,9.36947),
(-36.6173,23.086),
(-63.8058,-12.5584),
(-42.1122,-27.7181),
(15.9444,11.8762),
(47.1393,37.7534),
    ]


complex_data = np.array([complex(real, imag) for real, imag in ofdm_data])
#complex_data = complex_data[:128]
n_sym = 2
complex_data = complex_data[128*(n_sym-1) +16*n_sym :128*n_sym+16*n_sym]



fft_result = np.fft.fft(complex_data)
fft_result = np.fft.fftshift(fft_result)


# Plot spectrum
plt.figure(figsize=(10, 6))
#plt.plot(complex_data)
plt.plot(fft_result.real, '-o')
plt.plot(fft_result.imag, '-o')
plt.title('Scrambler off')
# plt.xlabel('Frequency')
# plt.ylabel('Amplitude')
plt.grid(True)

# plt.figure(2, figsize=(10, 6))
# plt.plot(zadoff_chu(PSS=True))
# plt.title('zadoff_chu')
# plt.grid(True)

plt.figure(2, figsize=(10, 6))
plt.scatter(fft_result.real, fft_result.imag)
plt.grid(True)

print(fft_result)
plt.show()


